# Footprinting

### Table of Contents
- [Enumeration Prinicples](#enumeration-principles)
- [Enumeration Methodology](#enumeration-methodology)
    - [Layer 1: Internet Presence](#layer-1-internet-presence)
    - [Layer 2: Gateway](#layer-2-gateway)
    - [Layer 3: Accessible Services](#layer-3-accessible-services)
    - [Layer 4: Processes](#layer-4-processes)
    - [Layer 5: Privileges](#layer-5-privileges)
    - [Layer 6: OS Setup](#layer-6-os-setup)
- [Enumeration Methodology in Practice](#enumeration-methodology-in-practice)
- [Domain Information](#domain-information)


### Enumeration Principles

Use passive and active enumeration to gather information from various sources (IPs, domains 
accessible services etc.)

- How is the company structured
- What services does it use
- What third-party vendors does it use
- What security measures may be in place
- How is the infrastructure set up
- How do they provide the services they offer

**The goal is not to get at the systems but to find all ways to get there**

Questions to answer when enumerating:

- What can we see?
- What reasons can we have for seeing it?
- What image does what we see create for us?
- What do we gain from it?
- How can we use it?
- What can we not see?
- What reasons can there be that we do not see?
- What image results for us from what we do not see?

**The Enumeration Principles**

1. There is more than meets the eye. Consider all points of view
2. Distinguish between what we see and what we do not see
3. There are always ways to gain more information. Understand the target

### Enumeration Methodology

The enumeration process is divided into three levels:

1. Infrastructure-based enumeration
2. Host-based enumeration
3. OS-based enumeration

![Enumeration Methodology](./img/enum-method.png)

And six layers:

| Layer | Description | Information Categories | Level |
|-------|-------------|------------------------|-------|
|1. Internet Presence | Identification of internet presence and externally accessible infrastructure. | Domains, Subdomains, vHosts, ASN, Netblocks, IP Addresses, Cloud Instances, Security Measures | Infrastructure |
|2. Gateway | Identify the possible security measures to protect the company's external and internal infrastructure. | Firewalls, DMZ, IPS/IDS, EDR, Proxies, NAC, Network Segmentation, VPN, Cloudflare | Infrastructure |
|3. Accessible Services | Identify accessible interfaces and services that are hosted externally or internally. | Service Type, Functionality, Configuration, Port, Version, Interface | Host |
|4. Processes | Identify the internal processes, sources, and destinations associated with the services. | PID, Processed Data, Tasks, Source, Destination | Host |
|5. Privileges | Identification of the internal permissions and privileges to the accessible services. | Groups, Users, Permissions, Restrictions, Environment | OS |
|6. OS Setup | Identification of the internal components and systems setup. | OS Type, Patch Level, Network config, OS Environment, Configuration files, sensitive private files | OS |

**OSINT sits within the Internet Presence layer**

#### Layer 1: Internet Presence

The "Internet Presence" layer is where we focus on finding the targets we can investigate. If the 
scope in the contract allows us to look for additional hosts, this layer is even more critical than 
for fixed targets only. In this layer, we use different techniques to find domains, subdomains, 
netblocks, and many other components and information that present the presence of the company and 
its infrastructure on the Internet.

**The goal of this layer is to identify all possible target systems and interfaces that can be tested.**

#### Layer 2: Gateway

Here we try to understand the interface of the reachable target, how it is protected, and where it 
is located in the network.

TODO: Link to other modules going into more detail

**The goal is to understand what we are dealing with and what we have to watch out for.**

#### Layer 3: Accessible Services

In the case of accessible services, we examine each destination for all the services it offers. 
Each of these services has a specific purpose that has been installed for a particular reason by 
the administrator. Each service has certain functions, which therefore also lead to specific 
results. To work effectively with them, we need to know how they work. Otherwise, we need to learn 
to understand them.

**This layer aims to understand the reason and functionality of the target system and gain the necessary knowledge to communicate with it and exploit it for our purposes effectively.**

#### Layer 4: Processes

Every time a command or function is executed, data is processed, whether entered by the user or 
generated by the system. This starts a process that has to perform specific tasks, and such tasks 
have at least one source and one target.

**The goal here is to understand these factors and identify the dependencies between them.**

#### Layer 5: Privileges

Each service runs through a specific user in a particular group with permissions and privileges 
defined by the administrator or the system. These privileges often provide us with functions that 
administrators overlook. This often happens in Active Directory infrastructures and many other 
case-specific administration environments and servers where users are responsible for multiple 
administration areas.

**It is crucial to identify these and understand what is and is not possible with these privileges.**

#### Layer 6: OS Setup

Here we collect information about the actual operating system and its setup using internal access. 
This gives us a good overview of the internal security of the systems and reflects the skills and 
capabilities of the company's administrative teams.

**The goal here is to see how the administrators manage the systems and what sensitive internal information we can glean from them.**

### Enumeration Methodology in Practice

A methodology summarizes all systematic procedures in obtaining knowledge within the bounds of a 
given objective. It is important to note that a methodology is not a step-by-step guide but, as the 
definition implies, a summary of systematic procedures. In our case, the enumeration methodology is 
the systematic approach to explore a given target

### Domain Information
